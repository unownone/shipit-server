# ShipIt Server Production Environment Configuration
# Copy this file to .env in production and update with secure values

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
SHIPIT_SERVER_ENVIRONMENT=production
SHIPIT_SERVER_DOMAIN=yourdomain.com
SHIPIT_SERVER_HTTP_PORT=8080
SHIPIT_SERVER_HTTPS_PORT=8443
SHIPIT_SERVER_AGENT_PORT=7223

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
SHIPIT_DATABASE_HOST=postgres
SHIPIT_DATABASE_PORT=5432
SHIPIT_DATABASE_NAME=shipit
SHIPIT_DATABASE_USER=shipit_user
SHIPIT_DATABASE_SSL_MODE=require
SHIPIT_DATABASE_MAX_CONNECTIONS=50
SHIPIT_DATABASE_MAX_IDLE_CONNECTIONS=10

# =============================================================================
# SECRETS (MUST BE CHANGED FOR PRODUCTION!)
# =============================================================================

# Database Password - CHANGE THIS!
SHIPIT_SECRET_DATABASE_PASSWORD=CHANGE_ME_SECURE_DATABASE_PASSWORD

# JWT Secrets - CHANGE THESE! Generate with: openssl rand -hex 32
SHIPIT_SECRET_JWT_SECRET_KEY=CHANGE_ME_SECURE_JWT_SECRET_256_BIT
SHIPIT_SECRET_JWT_REFRESH_SECRET=CHANGE_ME_SECURE_REFRESH_SECRET_256_BIT

# Admin User - CHANGE THESE!
SHIPIT_SECRET_ADMIN_EMAIL=admin@yourdomain.com
SHIPIT_SECRET_ADMIN_PASSWORD=CHANGE_ME_SECURE_ADMIN_PASSWORD

# API Security - CHANGE THESE!
SHIPIT_SECRET_API_RATE_LIMIT_SECRET=CHANGE_ME_RATE_LIMIT_SECRET
SHIPIT_SECRET_WEBHOOK_SECRET=CHANGE_ME_WEBHOOK_SECRET

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
SHIPIT_REDIS_HOST=redis
SHIPIT_REDIS_PORT=6379
SHIPIT_REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
SHIPIT_REDIS_DB=0

# =============================================================================
# AUTHENTICATION SETTINGS (Production Hardened)
# =============================================================================
SHIPIT_AUTH_API_KEY_LENGTH=32
SHIPIT_AUTH_HASH_COST=14
SHIPIT_AUTH_MAX_LOGIN_ATTEMPTS=3
SHIPIT_AUTH_LOCKOUT_DURATION=30m

# =============================================================================
# JWT CONFIGURATION (Production Settings)
# =============================================================================
SHIPIT_JWT_ISSUER=shipit-server
SHIPIT_JWT_AUDIENCE=shipit-users
SHIPIT_JWT_ACCESS_TOKEN_EXPIRY=15m
SHIPIT_JWT_REFRESH_TOKEN_EXPIRY=168h
SHIPIT_JWT_ALGORITHM=HS256

# =============================================================================
# TUNNEL SETTINGS (Production Limits)
# =============================================================================
SHIPIT_TUNNELS_MAX_PER_USER=5
SHIPIT_TUNNELS_CONNECTION_POOL_SIZE=10
SHIPIT_TUNNELS_SUBDOMAIN_LENGTH=8
SHIPIT_TUNNELS_DEFAULT_TTL=12h

# =============================================================================
# ANALYTICS & MONITORING
# =============================================================================
SHIPIT_ANALYTICS_ENABLED=true
SHIPIT_ANALYTICS_RETENTION_DAYS=30
SHIPIT_ANALYTICS_METRICS_ENDPOINT=/metrics

# =============================================================================
# CORS CONFIGURATION (Production)
# =============================================================================
SHIPIT_CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
SHIPIT_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
SHIPIT_CORS_ALLOWED_HEADERS=Authorization,Content-Type,X-Requested-With
SHIPIT_CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# RATE LIMITING (Production)
# =============================================================================
SHIPIT_RATE_LIMITING_ENABLED=true
SHIPIT_RATE_LIMITING_API_REQUESTS_PER_MINUTE=30
SHIPIT_RATE_LIMITING_LOGIN_ATTEMPTS_PER_HOUR=3
SHIPIT_RATE_LIMITING_TUNNEL_CREATION_PER_HOUR=5

# =============================================================================
# LOGGING (Production)
# =============================================================================
SHIPIT_LOGGING_LEVEL=info
SHIPIT_LOGGING_FORMAT=json
SHIPIT_LOGGING_OUTPUT=stdout

# =============================================================================
# TLS/SSL (Production)
# =============================================================================
SHIPIT_TLS_CERT_FILE=/etc/ssl/certs/shipit.crt
SHIPIT_TLS_KEY_FILE=/etc/ssl/private/shipit.key
SHIPIT_TLS_AUTO_CERT=true

# =============================================================================
# EXTERNAL SERVICES (Production)
# =============================================================================
SHIPIT_SECRET_STRIPE_SECRET_KEY=sk_live_CHANGE_ME
SHIPIT_SECRET_SENDGRID_API_KEY=SG.CHANGE_ME
SHIPIT_SECRET_CLOUDFLARE_API_KEY=CHANGE_ME
