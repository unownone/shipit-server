# ShipIt Server Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
SHIPIT_SERVER_ENVIRONMENT=development
SHIPIT_SERVER_DOMAIN=localhost
SHIPIT_SERVER_HTTP_PORT=8080
SHIPIT_SERVER_HTTPS_PORT=8443
SHIPIT_SERVER_AGENT_PORT=7223

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
SHIPIT_DATABASE_HOST=localhost
SHIPIT_DATABASE_PORT=5432
SHIPIT_DATABASE_NAME=shipit
SHIPIT_DATABASE_USER=shipit_user
SHIPIT_DATABASE_SSL_MODE=disable
SHIPIT_DATABASE_MAX_CONNECTIONS=25
SHIPIT_DATABASE_MAX_IDLE_CONNECTIONS=5

# =============================================================================
# SECRETS (CHANGE THESE IN PRODUCTION!)
# =============================================================================

# Database Password
SHIPIT_SECRET_DATABASE_PASSWORD=shipit_dev_password

# JWT Secrets (256-bit recommended)
SHIPIT_SECRET_JWT_SECRET_KEY=dev-jwt-secret-key-change-in-production-256-bit
SHIPIT_SECRET_JWT_REFRESH_SECRET=dev-refresh-secret-key-change-in-production-256

# Admin User (for initial setup)
SHIPIT_SECRET_ADMIN_EMAIL=admin@localhost
SHIPIT_SECRET_ADMIN_PASSWORD=admin123456

# API Security
SHIPIT_SECRET_API_RATE_LIMIT_SECRET=dev-rate-limit-hmac-secret-key
SHIPIT_SECRET_WEBHOOK_SECRET=dev-webhook-verification-secret

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
SHIPIT_REDIS_HOST=localhost
SHIPIT_REDIS_PORT=6379
SHIPIT_REDIS_PASSWORD=
SHIPIT_REDIS_DB=0

# =============================================================================
# AUTHENTICATION SETTINGS
# =============================================================================
SHIPIT_AUTH_API_KEY_LENGTH=32
SHIPIT_AUTH_HASH_COST=12
SHIPIT_AUTH_MAX_LOGIN_ATTEMPTS=5
SHIPIT_AUTH_LOCKOUT_DURATION=15m

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
SHIPIT_JWT_ISSUER=shipit-server
SHIPIT_JWT_AUDIENCE=shipit-users
SHIPIT_JWT_ACCESS_TOKEN_EXPIRY=1h
SHIPIT_JWT_REFRESH_TOKEN_EXPIRY=168h
SHIPIT_JWT_ALGORITHM=HS256

# =============================================================================
# TUNNEL SETTINGS
# =============================================================================
SHIPIT_TUNNELS_MAX_PER_USER=10
SHIPIT_TUNNELS_CONNECTION_POOL_SIZE=20
SHIPIT_TUNNELS_SUBDOMAIN_LENGTH=8
SHIPIT_TUNNELS_DEFAULT_TTL=24h

# =============================================================================
# ANALYTICS & MONITORING
# =============================================================================
SHIPIT_ANALYTICS_ENABLED=true
SHIPIT_ANALYTICS_RETENTION_DAYS=90
SHIPIT_ANALYTICS_METRICS_ENDPOINT=/metrics

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
SHIPIT_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
SHIPIT_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
SHIPIT_CORS_ALLOWED_HEADERS=Authorization,Content-Type,X-Requested-With
SHIPIT_CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# RATE LIMITING
# =============================================================================
SHIPIT_RATE_LIMITING_ENABLED=true
SHIPIT_RATE_LIMITING_API_REQUESTS_PER_MINUTE=60
SHIPIT_RATE_LIMITING_LOGIN_ATTEMPTS_PER_HOUR=10
SHIPIT_RATE_LIMITING_TUNNEL_CREATION_PER_HOUR=10

# =============================================================================
# LOGGING
# =============================================================================
SHIPIT_LOGGING_LEVEL=info
SHIPIT_LOGGING_FORMAT=json
SHIPIT_LOGGING_OUTPUT=stdout

# =============================================================================
# TLS/SSL (for production)
# =============================================================================
SHIPIT_TLS_CERT_FILE=/etc/ssl/certs/shipit.crt
SHIPIT_TLS_KEY_FILE=/etc/ssl/private/shipit.key
SHIPIT_TLS_AUTO_CERT=false

# =============================================================================
# EXTERNAL SERVICES (optional)
# =============================================================================
SHIPIT_SECRET_STRIPE_SECRET_KEY=
SHIPIT_SECRET_SENDGRID_API_KEY=
SHIPIT_SECRET_CLOUDFLARE_API_KEY=

# =============================================================================
# DOCKER SPECIFIC (when running in containers)
# =============================================================================
# Uncomment these when using docker-compose
# SHIPIT_DATABASE_HOST=postgres
# SHIPIT_REDIS_HOST=redis
